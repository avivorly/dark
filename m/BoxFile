{"name": "BoxFile", "keys": [["max_v", "integer", 1000], ["box_len", "integer", 5]], "views": {}, "outputs": {}, "code": "mask_matrix = mask\n\nis_h_energy = lambda d: np.binary_repr(d, width = 8)[5] == '1'\n\nh_energy = np.vectorize(is_h_energy)(mask_matrix)\n\nfor i, j in np.argwhere(h_energy):\n    data[max(0, i - box_len):i + box_len, max(0, j - box_len): j + box_len] = np.nan\n", "active": 2}